(this["webpackJsonprugby-planner"]=this["webpackJsonprugby-planner"]||[]).push([[0],{11:function(e,t,a){e.exports={list:"MatchList_list__5sd8p",match:"MatchList_match__2DNex",time:"MatchList_time__3Gtjt",team:"MatchList_team__2D1f8",emoji:"MatchList_emoji__3-UmW",ground:"MatchList_ground__31Mrm",travel:"MatchList_travel__2sjv2"}},19:function(e,t,a){e.exports={marker:"Map_marker__3-FTc",svg:"Map_svg__1_66p",highlight:"Map_highlight__1b3su",label:"Map_label__2Esty"}},21:function(e,t,a){e.exports={container:"App_container__1MQN3",map:"App_map__3Febj",menu:"App_menu__3dqVM",selected:"App_selected__3QRXT"}},27:function(e,t,a){e.exports={container:"Menu_container__3XBQm",search:"Menu_search__3hnj3"}},37:function(e,t,a){e.exports={container:"Selected_container__1mxLr"}},44:function(e,t,a){},48:function(e,t){},55:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(23),c=a.n(r),o=(a(44),a(3)),s=a(4),u=a(6),d=a(5),l=a(15),h=a(10),m=a(29),g=a.n(m),j=a(7),p=a.n(j),f=a(63),b=a(66),O=a(64),v=a(65),x=a(24),y=a.n(x),M=a(9),_=a(30),E=a.n(_),S=a(16),N=a.n(S),w=(a(50),a(31)),A=a(25),k=a(32),L=a.n(k),C=function(){function e(t){Object(o.a)(this,e),this.grounds=t.grounds,this.teams=Object.assign.apply(Object,[{}].concat(Object(l.a)(Object.entries(t.teams).map((function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(A.a)({},a,new F(a,n))}))))),this.matches=t.matches}return Object(s.a)(e,[{key:"getMatch",value:function(e){var t,a=Object(w.a)(this.matches);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.id===e)return n}}catch(i){a.e(i)}finally{a.f()}}}]),e}(),F=function(){function e(t,a){Object(o.a)(this,e),this.code=a.code,this.emoji=a.emoji,this.name=t}return Object(s.a)(e,[{key:"toEmoji",value:function(){return this.emoji?this.emoji:L()(this.code.toUpperCase())}}]),e}(),B=new C({grounds:{Paris:{name:"Paris",coords:[48.924438,2.360104]},Marseille:{name:"Marseille",coords:[43.26987,5.39591]},Lyon:{name:"Lyon",coords:[45.7654,4.982]},Lille:{name:"Lille",coords:[50.6119,3.1304]},Bordeaux:{name:"Bordeaux",coords:[44.897222,-.561667]},"Saint-\xc9tienne":{name:"Saint-\xc9tienne",coords:[45.460833,4.390278]},Nice:{name:"Nice",coords:[43.705139,7.192583]},Nantes:{name:"Nantes",coords:[47.2556,-1.5253]},Toulouse:{name:"Toulouse",coords:[43.583056,1.434167]}},teams:{"Africa 1":{code:"xb",emoji:"\ud83c\udf0d"},Argentina:{code:"ar"},"Americas 2":{code:"xc",emoji:"\ud83c\udf0e"},"Asia/Pacific 1":{code:"xa",emoji:"\ud83c\udf0f"},Australia:{code:"au"},England:{code:"xe",emoji:"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f"},"Europe 1":{code:"eu1",emoji:"\ud83c\uddea\ud83c\uddfa"},"Europe 2":{code:"eu2",emoji:"\ud83c\uddea\ud83c\uddfa"},Fiji:{code:"fj"},"Final Qualifier Winner":{code:"xx",emoji:"\u2753"},France:{code:"fr"},Ireland:{code:"ie"},Italy:{code:"it"},Japan:{code:"jp"},"New Zealand":{code:"nz"},Samoa:{code:"ws"},Scotland:{code:"xs",emoji:"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f"},"South Africa":{code:"za"},Uruguay:{code:"uy"},Wales:{code:"xw",emoji:"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f"}},matches:[{id:1,teams:["France","New Zealand"],ground:"Paris",time:"2023-09-08 21:00:00"},{id:2,teams:["Italy","Africa 1"],ground:"Saint-\xc9tienne",time:"2023-09-09 13:00:00"},{id:3,teams:["Ireland","Europe 2"],ground:"Bordeaux",time:"2023-09-09 15:30:00"},{id:4,teams:["Australia","Europe 1"],ground:"Paris",time:"2023-09-09 18:00:00"},{id:5,teams:["England","Argentina"],ground:"Marseille",time:"2023-09-09 21:00:00"},{id:6,teams:["Japan","Americas 2"],ground:"Toulouse",time:"2023-09-10 13:00:00"},{id:7,teams:["South Africa","Scotland"],ground:"Marseille",time:"2023-09-10 17:45:00"},{id:8,teams:["Wales","Fiji"],ground:"Bordeaux",time:"2023-09-10 21:00:00"},{id:9,teams:["France","Uruguay"],ground:"Lille",time:"2023-09-14 21:00:00"},{id:10,teams:["New Zealand","Africa 1"],ground:"Toulouse",time:"2023-09-15 21:00:00"},{id:11,teams:["Samoa","Americas 2"],ground:"Bordeaux",time:"2023-09-16 15:00:00"},{id:12,teams:["Wales","Final Qualifier Winner"],ground:"Nice",time:"2023-09-16 17:45:00"},{id:13,teams:["Ireland","Asia/Pacific 1"],ground:"Nantes",time:"2023-09-16 21:00:00"},{id:14,teams:["South Africa","Europe 2"],ground:"Bordeaux",time:"2023-09-17 15:00:00"},{id:15,teams:["Australia","Fiji"],ground:"Saint-\xc9tienne",time:"2023-09-17 17:45:00"},{id:16,teams:["England","Japan"],ground:"Nice",time:"2023-09-17 21:00:00"},{id:17,teams:["Italy","Uruguay"],ground:"Nice",time:"2023-09-20 17:45:00"},{id:18,teams:["France","Africa 1"],ground:"Marseille",time:"2023-09-21 21:00:00"},{id:19,teams:["Argentina","Samoa"],ground:"Saint-\xc9tienne",time:"2023-09-22 17:45:00"},{id:20,teams:["Europe 1","Final Qualifier Winner"],ground:"Toulouse",time:"2023-09-23 14:00:00"},{id:21,teams:["England","Americas 2"],ground:"Lille",time:"2023-09-23 17:45:00"},{id:22,teams:["South Africa","Ireland"],ground:"Paris",time:"2023-09-23 21:00:00"},{id:23,teams:["Scotland","Asia/Pacific 1"],ground:"Nice",time:"2023-09-24 17:45:00"},{id:24,teams:["Wales","Australia"],ground:"Lyon",time:"2023-09-24 21:00:00"},{id:25,teams:["Uruguay","Africa 1"],ground:"Lyon",time:"2023-09-27 17:45:00"},{id:26,teams:["Japan","Samoa"],ground:"Toulouse",time:"2023-09-28 21:00:00"},{id:27,teams:["New Zealand","Italy"],ground:"Lyon",time:"2023-09-29 21:00:00"},{id:28,teams:["Argentina","Americas 2"],ground:"Nantes",time:"2023-09-30 15:00:00"},{id:29,teams:["Fiji","Europe 1"],ground:"Bordeaux",time:"2023-09-30 17:45:00"},{id:30,teams:["Scotland","Europe 2"],ground:"Lille",time:"2023-09-30 21:00:00"},{id:31,teams:["Australia","Final Qualifier Winner"],ground:"Saint-\xc9tienne",time:"2023-10-01 17:45:00"},{id:32,teams:["South Africa","Asia/Pacific 1"],ground:"Marseille",time:"2023-10-01 21:00:00"},{id:33,teams:["New Zealand","Uruguay"],ground:"Lyon",time:"2023-10-05 21:00:00"},{id:34,teams:["France","Italy"],ground:"Lyon",time:"2023-10-06 21:00:00"},{id:35,teams:["Wales","Europe 1"],ground:"Nantes",time:"2023-10-07 15:00:00"},{id:36,teams:["England","Samoa"],ground:"Lille",time:"2023-10-07 17:45:00"},{id:37,teams:["Ireland","Scotland"],ground:"Paris",time:"2023-10-07 21:00:00"},{id:38,teams:["Japan","Argentina"],ground:"Nantes",time:"2023-10-08 13:00:00"},{id:39,teams:["Asia/Pacific 1","Europe 2"],ground:"Lille",time:"2023-10-08 17:45:00"},{id:40,teams:["Fiji","Final Qualifier Winner"],ground:"Toulouse",time:"2023-10-08 21:00:00"}]}),I=a(1);function P(e){try{return JSON.parse(e.replace(/^#/,""))}catch(t){return[]}}var W={highlightedEdge:null,highlightedGround:null,matches:P(window.location.hash),schedule:B},U=i.a.createContext(W),T=function(e){function t(e,a){Object(o.a)(this,t),this.map=new Map,this.palette=y()(["mpn65","qualitative"],a||e.matches.length),this.schedule=e}return Object(s.a)(t,[{key:e,value:function(){return this.map.values()}},{key:"add",value:function(e,a){var n=this.schedule.grounds[e.ground],i=this.schedule.grounds[a.ground];this.map.set(t.id(e,a),{a:{ground:n,match:e},b:{ground:i,match:a},colour:this.palette.pop(),distance:E()({latitude:n.coords[0],longitude:n.coords[1]},{latitude:i.coords[0],longitude:i.coords[1]},"en-US","metric"),duration:N.a.duration(N()(a.time).diff(N()(e.time)))})}},{key:"get",value:function(e,a){return this.map.get(t.id(e,a))}}],[{key:"id",value:function(e,t){return"".concat(e.id,"--").concat(t.id)}}]),t}(Symbol.iterator),J=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state=W,window.addEventListener("hashchange",(function(){var e=P(window.location.hash);e&&n.updateMatches(e)})),n}return Object(s.a)(a,[{key:"calculateEdges",value:function(e){var t=this.state.schedule,a=new T(t,e.length-1),n=null;return e.forEach((function(e){if(null!==n){var i=t.getMatch(n),r=t.getMatch(e);a.add(i,r)}n=e})),a}},{key:"addMatch",value:function(e){this.isMatchSelected(e)||this.updateMatches([].concat(Object(l.a)(this.state.matches),[e]))}},{key:"isMatchSelected",value:function(e){return this.state.matches.reduce((function(t,a){return!!t||a===e}),!1)}},{key:"removeMatch",value:function(e){this.updateMatches(this.state.matches.filter((function(t){return t!==e})))}},{key:"updateMatches",value:function(e){e=e.sort((function(e,t){return e-t})),this.setState({matches:e,edges:this.calculateEdges(e)}),window.location="#".concat(JSON.stringify(e))}},{key:"render",value:function(){var e=this;return Object(I.jsx)(U.Provider,{value:Object(M.a)(Object(M.a)({},this.state),{},{getEdges:function(){return e.calculateEdges(e.state.matches)},addMatch:function(t){return e.addMatch(t)},clearMatches:function(){return e.updateMatches([])},isMatchSelected:function(t){return e.isMatchSelected(t)},removeMatch:function(t){return e.removeMatch(t)},setHighlightedEdge:function(t,a){return e.setState({highlightedEdge:t&&a?[t,a]:null})},setHighlightedGround:function(t){return e.setState({highlightedGround:t})}}),children:this.props.children})}}]),a}(i.a.Component),D=(a(54),a(55),a(19)),G=a.n(D),Q=a(33),H=a(34),Z=a(35);delete p.a.Icon.Default.prototype._getIconUrl,p.a.Icon.Default.mergeOptions({iconRetinaUrl:H.a,iconUrl:Q.a,shadowUrl:Z.a});var z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.colour,a=e.highlight,n=e.name,i=[G.a.marker];return a&&i.push(G.a.highlight),Object(I.jsxs)("div",{className:i.join(" "),children:[Object(I.jsx)("svg",{className:G.a.svg,viewBox:"0 0 100 100",children:Object(I.jsx)("circle",{cx:"50",cy:"50",r:"50",fill:"#".concat(t)})}),Object(I.jsx)("div",{className:G.a.label,style:{color:"#".concat(t)},children:n})]})}}]),a}(i.a.PureComponent),q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(I.jsx)(U.Consumer,{children:function(e){var t=e.schedule.grounds,n=y()(["tol","qualitative"],Object.values(t).length);return Object(I.jsxs)(f.a,{style:{height:"100%",width:"100%"},bounds:a.calculateBounds(t),maxZoom:18,children:[Object(I.jsx)(b.a,{url:"http://{s}.tile.stamen.com/toner-lite/{z}/{x}/{y}{r}.png",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.'}),Object.entries(t).map((function(t){var a=Object(h.a)(t,2),i=a[0],r=a[1],c=p.a.divIcon({html:g.a.renderToStaticMarkup(Object(I.jsx)(z,{colour:n.pop(),highlight:e.highlightedGround===i,name:i}))});return Object(I.jsx)(O.a,{icon:c,position:r.coords},i)})),Object(l.a)(e.getEdges()).map((function(t,a){var n=null!==e.highlightedEdge&&e.highlightedEdge[0]===t.a.match.id&&e.highlightedEdge[1]===t.b.match.id;return Object(I.jsx)(v.a,{color:"#".concat(t.colour),opacity:null===e.highlightedEdge?.5:n?1:.2,weight:n?5:3,positions:[t.a.ground.coords,t.b.ground.coords]},a)}))]})}})}}],[{key:"calculateBounds",value:function(e){var t=Object.values(e).map((function(e){return e.coords})),a=p.a.latLngBounds();return t.forEach((function(e){return a.extend(e)})),a}}]),a}(i.a.Component),R=a(11),X=a.n(R),V=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.team;return Object(I.jsxs)("span",{className:X.a.team,children:[Object(I.jsx)("span",{className:X.a.emoji,children:e.toEmoji()}),Object(I.jsx)("span",{className:X.a.name,children:e.name})]})}}]),a}(i.a.Component),Y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.matches,a=e.showEdges;return Object(I.jsx)("ul",{className:X.a.list,children:Object(I.jsx)(U.Consumer,{children:function(e){var n=[],i=null,r=a?e.getEdges():null;return t.forEach((function(t,c){if(a&&i){var o=r.get(i,t);o&&n.push(Object(I.jsxs)("li",{className:X.a.travel,style:{color:"#".concat(o.colour)},onMouseOver:function(){return e.setHighlightedEdge(o.a.match.id,o.b.match.id)},onMouseOut:function(){return!(!e.highlightedEdge||e.highlightedEdge[0]!==o.a.match.id||e.highlightedEdge[1]!==o.b.match.id)&&e.setHighlightedEdge(null)},children:["Travelling ",o.distance," in ",o.duration.humanize()]},"".concat(i.id,"-").concat(t.id)))}n.push(Object(I.jsxs)("li",{className:X.a.match,onMouseOver:function(){return e.setHighlightedGround(t.ground)},onMouseOut:function(){return e.highlightedGround===t.ground&&e.setHighlightedGround(null)},onClick:function(){return e.isMatchSelected(t.id)?e.removeMatch(t.id):e.addMatch(t.id)},children:[Object(I.jsx)("span",{className:X.a.time,children:N()(t.time).format("ddd D/M")}),t.teams.map((function(t){return Object(I.jsx)(V,{team:e.schedule.teams[t]},t)})),Object(I.jsx)("span",{className:X.a.ground,children:t.ground})]},t.id)),i=t})),n}})})}}]),a}(i.a.Component),$=a(27),K=a.n($),ee=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={team:"all"},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.team;return Object(I.jsx)(U.Consumer,{children:function(a){return Object(I.jsxs)("div",{className:K.a.container,children:[Object(I.jsx)("h2",{children:Object(I.jsxs)("select",{className:K.a.search,onChange:function(t){return e.setState({team:t.target.value})},value:t,children:[Object(I.jsx)("option",{value:"all",children:"All games"},"all"),Object.values(a.schedule.teams).map((function(e){return Object(I.jsxs)("option",{value:e.name,children:[e.toEmoji()," ",e.name]},e.name)}))]})}),Object(I.jsx)(Y,{matches:a.schedule.matches.filter((function(e){return!a.isMatchSelected(e.id)&&("all"===t||-1!==e.teams.indexOf(t))}))})]})}})}}]),a}(i.a.Component),te=a(36),ae=a(38),ne=a(37),ie=a.n(ne),re=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(I.jsx)(U.Consumer,{children:function(e){return Object(I.jsxs)("div",{className:ie.a.container,children:[Object(I.jsxs)("h2",{children:[Object(I.jsx)("span",{children:"Selected games"}),Object(I.jsx)("button",{onClick:function(){return e.clearMatches()},children:Object(I.jsx)(te.a,{icon:ae.a})})]}),Object(I.jsx)(Y,{matches:e.schedule.matches.filter((function(t){return e.isMatchSelected(t.id)})),showEdges:!0})]})}})}}]),a}(i.a.Component),ce=a(21),oe=a.n(ce),se=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(I.jsx)(J,{children:Object(I.jsxs)("div",{className:oe.a.container,children:[Object(I.jsx)("div",{className:oe.a.map,children:Object(I.jsx)(q,{})}),Object(I.jsx)("div",{className:oe.a.selected,children:Object(I.jsx)(re,{})}),Object(I.jsx)("div",{className:oe.a.menu,children:Object(I.jsx)(ee,{})})]})})}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(I.jsx)(se,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[61,1,2]]]);
//# sourceMappingURL=main.43fa2454.chunk.js.map